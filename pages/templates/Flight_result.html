{% load static %}
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.17.0/font/bootstrap-icons.css" rel="stylesheet">
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.css'><link rel="stylesheet" href="{% static 'css/style_r.css' %}">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i'>

  <style>
    /* === BASE HEADING === */ 

.h1 {
  position: relative;
  padding: 0;
  margin: 0;
  font-family: "Raleway", sans-serif;
  font-weight: 300;
  font-size: 40px;
  color: #080808;
  -webkit-transition: all 0.4s ease 0s;
  -o-transition: all 0.4s ease 0s;
  transition: all 0.4s ease 0s;
}

.h1 span {
  display: block;
  font-size: 0.5em;
  line-height: 1.3;
}
.h1 em {
  font-style: normal;
  font-weight: 600;
}

/* === HEADING STYLE #1 === */
.one .h1 {
  text-align: center;
  text-transform: uppercase;
  padding-bottom: 5px;
}
.one .h1:before {
  width: 28px;
  height: 5px;
  display: block;
  content: "";
  position: absolute;
  bottom: 3px;
  left: 50%;
  margin-left: -14px;
  background-color: #b80000;
}
.one .h1:after {
  width: 100px;
  height: 1px;
  display: block;
  content: "";
  position: relative;
  margin-top: 25px;
  left: 50%;
  margin-left: -50px;
  background-color: #b80000;
}


/* ------- Helper Styles -------------*/
/* *,
*:before,
*:after {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
} */
body {
  background: #eee;
}
.div {
  position: relative;
  background: #f8f8f8;
  width: 90%;
  max-width: 500px;
  padding: 2em;
  margin: 1.5em auto;
  border: 3px solid rgba(0, 0, 0, 0.08);
}

.h1:before,
.h1:after {
  background-color: #c50000;
} */
 .three .h1 {
  font-size: 28px;
  font-weight: 500;
  letter-spacing: 0;
  line-height: 1.5em;
  padding-bottom: 15px;
  position: relative;
}
.three .h1:before {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  height: 5px;
  width: 55px;
  background-color: #111;
}
.three .h1:after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 2px;
  height: 1px;
  width: 95%;
  max-width: 255px;
  background-color: #333;
}

  </style>
</head>
<body>
  <div class="div">
  <div class="one">
    <h1 class="h1">FLIGHT RESULTS </h1></div>
  </div>
<!-- partial:index.partial.html -->
{% if flights %}
{% for flight in flights %}
<section class="itinerary" style="margin-top:2%;margin-left: 3%;">

  <div class="itinerary__section">
    
<!--     
trips section:
trips can be stacked, and the "flight path" (dotted line + circled plane) will automatically appear.
-->
    <div class="itinerary@trip">
      <div class="itinerary@trip__meta">
        <h4 class="itinerary@trip__title">{{flight.depart}} <i class="ion-android-arrow-forward"></i>{{flight.ps1}}</h4> <span class="itinerary@status itinerary@status--warning">Layover</span> <i class="ion-android-arrow-forward"></i>
        <h4 class="itinerary@trip__title">{{flight.ps2}}</h4>
      </div>
      <time class="itinerary@trip__time" datatime="">Depart</time>
      <time class="itinerary@trip__date" datatime="">{{flight.hour_d}}</time>
    </div>

    <div class="itinerary@trip itinerary@trip--layover">
      <div class="itinerary@trip__meta">
        <h4 class="itinerary@trip__title">{{flight.destination}}</h4>
      </div>
      <time class="itinerary@trip__time" datatime="" aria-hidden="true">Arrive</time>
      <time class="itinerary@trip__date" datatime="">{{flight.hour_a}}</time>
    </div>

  </div>

  <div class="itinerary__section itinerary@checkout">
    <h1 class="itinerary@checkout__company" style="text-align: center;">{{flight.classe}}
    <div class="itinerary@checkout__total"><span class="itinerary@checkout__offer"><strong>PRICE</strong></span>
      <h1 class="itinerary@checkout__points">{{flight.price}}</h1>
      <h1 class="itinerary@checkout__cost">$</h1>
    </div>
    <a href="#" class="book-flight" data-flight="{{ flight.id }}">
    <button class="btn btn--primary"><i class="ion-ios-cart-outline"></i> Book Now</button>
    </a>
        <div class="itinerary@menu">
      <div class="itinerary@menu__item seat"></div>
      <div class="itinerary@menu__item"><i class="ion-ios-briefcase"></i></div>
      <div class="itinerary@menu__item"><i class="ion-information-circled"></i></div>
    </div>
  </div>
</section>
{% endfor %}
{% else %}
<div style="margin-top:10% ;">
<div class="three">
  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-airplane-engines" viewBox="0 0 16 16">
    <path d="M8 0c-.787 0-1.292.592-1.572 1.151A4.35 4.35 0 0 0 6 3v3.691l-2 1V7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.191l-1.17.585A1.5 1.5 0 0 0 0 10.618V12a.5.5 0 0 0 .582.493l1.631-.272.313.937a.5.5 0 0 0 .948 0l.405-1.214 2.21-.369.375 2.253-1.318 1.318A.5.5 0 0 0 5.5 16h5a.5.5 0 0 0 .354-.854l-1.318-1.318.375-2.253 2.21.369.405 1.214a.5.5 0 0 0 .948 0l.313-.937 1.63.272A.5.5 0 0 0 16 12v-1.382a1.5 1.5 0 0 0-.83-1.342L14 8.691V7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v.191l-2-1V3c0-.568-.14-1.271-.428-1.849C9.292.591 8.787 0 8 0M7 3c0-.432.11-.979.322-1.401C7.542 1.159 7.787 1 8 1s.458.158.678.599C8.889 2.02 9 2.569 9 3v4a.5.5 0 0 0 .276.447l5.448 2.724a.5.5 0 0 1 .276.447v.792l-5.418-.903a.5.5 0 0 0-.575.41l-.5 3a.5.5 0 0 0 .14.437l.646.646H6.707l.647-.646a.5.5 0 0 0 .14-.436l-.5-3a.5.5 0 0 0-.576-.411L1 11.41v-.792a.5.5 0 0 1 .276-.447l5.448-2.724A.5.5 0 0 0 7 7z"/>
  </svg>
  <h1 class="h1">NO FLIGHTS FOR THE GIVEN INFORMATIONS</h1>

</div></div>
{% endif%}
<!-- partial -->

<script  src="{% static 'js/script_r.js' %}"></script>

<script>
  // Add click event listener to all elements with the "delete-link" class
  document.querySelectorAll('.book-flight').forEach(function(link) {
link.addEventListener('click', function (event) {
event.preventDefault(); // Prevent the default behavior of the anchor tag

var flight = link.getAttribute('data-flight');

// Show SweetAlert confirmation
Swal.fire({
title: 'Are you sure?',
text: 'You won\'t be able to revert this!',
icon: 'warning',
showCancelButton: true,
confirmButtonColor: '#4BB5C1',
cancelButtonColor: '#d33',
confirmButtonText: 'Yes, Book flight!'
}).then((result) => {
if (result.isConfirmed) {
window.location.href = '/checkout_flight/' + flight; // Adjust the URL as needed
}
});
});
});
</script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.3/dist/sweetalert2.all.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
